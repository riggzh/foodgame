function getSkillInfo(i){var e=new Object,t="",n="";for(var r in i)t+=i[r].type+" ",t+=i[r].type.indexOf("稀有客人")>=0||i[r].type.indexOf("料理")>=0||i[r].type.indexOf("金币获得")>=0||i[r].type.indexOf("素材获得")>=0?"+"+100*i[r].addition+"%<br>":i[r].type.indexOf("技法")>=0||i[r].type.indexOf("采集")>=0?"+"+i[r].addition+"<br>":i[r].addition+"<br>",n+=i[r].type;return e.skillDisp=t,e.skillVal=n,e}function getQualityInfo(i,e,t,n){var r=Number.MAX_VALUE,a=e.stirfry,d=e.boil,o=e.cut,f=e.fry,l=e.roast,y=e.steam;if(t&&n){var s=n.data.skill;for(var p in s)s[p].type.indexOf("炒技法")>=0||s[p].type.indexOf("全技法")>=0?a+=s[p].addition:s[p].type.indexOf("煮技法")>=0||s[p].type.indexOf("全技法")>=0?d+=s[p].addition:s[p].type.indexOf("切技法")>=0||s[p].type.indexOf("全技法")>=0?o+=s[p].addition:s[p].type.indexOf("炸技法")>=0||s[p].type.indexOf("全技法")>=0?f+=s[p].addition:s[p].type.indexOf("烤技法")>=0||s[p].type.indexOf("全技法")>=0?l+=s[p].addition:(s[p].type.indexOf("蒸技法")>=0||s[p].type.indexOf("全技法")>=0)&&(y+=s[p].addition)}i.stirfry>0&&(r=a>0?Math.min(r,a/i.stirfry):0),r>=1&&i.boil>0&&(r=d>0?Math.min(r,d/i.boil):0),r>=1&&i.cut>0&&(r=o>0?Math.min(r,o/i.cut):0),r>=1&&i.fry>0&&(r=f>0?Math.min(r,f/i.fry):0),r>=1&&i.roast>0&&(r=l>0?Math.min(r,l/i.roast):0),r>=1&&i.steam>0&&(r=y>0?Math.min(r,y/i.steam):0);var u=new Object,O=0,g="-",c=0;return r!=Number.MAX_VALUE&&r>=1&&(r>=4?(O=.5,g="神",c=4):r>=3?(O=.3,g="特",c=3):r>=2?(O=.1,g="优",c=2):r>=1&&(O=0,g="可",c=1)),u.qualityAddition=O,u.qualityDisp=g,u.qualityVal=c,u}function getSkillAddition(i,e,t){var n=0;for(var r in e){var a=!1;if(e[r].type.indexOf("水产料理")>=0){for(var d in i.ingredients)for(var o in t)if(i.ingredients[d].name==t[o].name&&"鱼塘"==t[o].origin){a=!0;break}}else if(e[r].type.indexOf("面类料理")>=0){for(var d in i.ingredients)for(var o in t)if(i.ingredients[d].name==t[o].name&&"作坊"==t[o].origin){a=!0;break}}else if(e[r].type.indexOf("肉类料理")>=0){for(var d in i.ingredients)for(var o in t)if(i.ingredients[d].name==t[o].name&&("牧场"==t[o].origin||"鸡舍"==t[o].origin||"猪圈"==t[o].origin)){a=!0;break}}else if(e[r].type.indexOf("蔬菜料理")>=0){for(var d in i.ingredients)for(var o in t)if(i.ingredients[d].name==t[o].name&&("菜棚"==t[o].origin||"菜地"==t[o].origin||"森林"==t[o].origin)){a=!0;break}}else e[r].type.indexOf("炒类料理")>=0?i.stirfry>0&&(a=!0):e[r].type.indexOf("煮类料理")>=0?i.boil>0&&(a=!0):e[r].type.indexOf("炸类料理")>=0?i.fry>0&&(a=!0):e[r].type.indexOf("切类料理")>=0?i.cut>0&&(a=!0):e[r].type.indexOf("烤类料理")>=0?i.roast>0&&(a=!0):e[r].type.indexOf("蒸类料理")>=0?i.steam>0&&(a=!0):e[r].type.indexOf("金币获得")>=0&&(a=!0);a&&(n+=e[r].addition)}return n}function getIngredientsAddition(i,e,t){var n=0,r=0,a=0;for(var d in i.ingredients)for(var o in e)if(i.ingredients[d].name==e[o].name){if(t){n+=Math.floor(e[o].addition);break}Math.floor(e[o].addition)>r?r=Math.floor(e[o].addition):Math.floor(e[o].addition)<0&&(a+=Math.floor(e[o].addition))}return t?n:r+a}function getKitchenwareInfo(i,e){var t=new Object;if(i)for(var n in e)if(i==e[n].name){t.data=e[n];var r=getSkillInfo(e[n].skill);t.disp=e[n].name+"<br>"+r.skillDisp;break}return t}function getRecipeResult(i,e,t,n,r,a,d,o,f,l){var y=new Object,s=0,p=0,u=0,O=0;if(i){var g=getQualityInfo(r,i,t,n);if(0==g.qualityVal)return null;s=g.qualityAddition,y.qualityVal=g.qualityVal,y.qualityDisp=g.qualityDisp,y.qualityAddition=s,y.qualityAdditionDisp=s||"",p=getSkillAddition(r,i.skill,o),y.skillAddition=p,y.skillAdditionDisp=p||"",t&&n&&(u=getSkillAddition(r,n.data.skill,o),y.kitchenwareAddition=u,y.kitchenwareAdditionDisp=u||""),e&&(O+=Math.floor(i.addition))}if(d&&(O+=Math.floor(r.addition)),f){var c=getIngredientsAddition(r,o,l);O+=c}return y.data=r,y.otherAddition=O,y.otherAdditionDisp=O||"",y.quantity=a,y.totalPrice=r.price*a,y.realTotalPrice=Math.ceil(r.price*(1+s+p+u))*a,y.bonusScore=Math.ceil(r.price*O)*a,y.totalScore=y.realTotalPrice+y.bonusScore,y}